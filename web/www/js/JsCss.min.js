var JsCss=new function(){
	this.init=function(){
		if(document.styleSheets&&document.styleSheets.length<=0){
			var a=document.createElement('style');
			a.type='text/css';
			a.rel='stylesheet';
			a.media='screen';
			a.title='dynamicSheet';
			document.getElementsByTagName("head")[0].appendChild(a);
		}
	};
	this.getRuleSelectors=function(a){
		a=a.trim().toLowerCase();
		if(a.charAt(0)=="."||a.charAt(0)=="#"){
			a=a.substr(1);
		}
		var f=a.split(","),e=new Array();
		for(var c=0;c<f.length;c++){
			var b=f[c].trim();
			if(b.charAt(0)=="."||b.charAt(0)=="#"){
				b=b.substr(1);
			}
			e.push(b.replace(/(#|\.| )+/g,"[SPACE]").split(/\[SPACE\]/));
		}
		for(var c=0;c<e.length;c++){
			e[c]=e[c].sort();
		}
		return e;
	};
	this.getCSSRule=function(a,f){
		a=a.toLowerCase();
		var e=this.getRuleSelectors(a);
		if(document.styleSheets){
			for(var c=0;c<document.styleSheets.length;c++){
				var b=document.styleSheets[c],g=0,d=false;
				do {if(b.cssRules.item){
						d=b.cssRules.item(g);
					}else if(b.cssRules){
						d=b.cssRules[g];
					}else{
						d=b.rules[g];
					}if(d){
						var h=false;
						if(typeof d.selectorText!="undefined"){
							var j=this.getRuleSelectors(d.selectorText);
							if(j.compare(e)){
								h=true;
							}
						}
						if(typeof d.selectorText!="undefined"&&(d.selectorText.toLowerCase()==a||h)){
							if(f=='delete'){
								if(b.cssRules){
									b.deleteRule(g);
								}else{
									b.removeRule(g);
								}return true;
							}else{
								return d;
							}
						}
					}
					g++;
				}
				while(d)
				}
			}
			return false;
		};
		
		this.killCSSRule=function(a){
			return this.getCSSRule(a,'delete');
		};
		
		this.addRule=function(a){
			if(document.styleSheets){
				if(!this.getCSSRule(a)){
					if(document.styleSheets[0].addRule){
						document.styleSheets[0].addRule(a,null,0);
					}else{
						document.styleSheets[0].insertRule(a+' { }',0);
					}
				}
			}
			return this.getCSSRule(a);
		};
		
		this.addRuleStyle=function(a,f){
			var e=this.addRule(a);
			for(i in f){
				e.style[i]=f[i];
			}
		};
	};